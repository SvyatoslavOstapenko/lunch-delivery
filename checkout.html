<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Оформить заказ</title>
    <link rel="stylesheet" href="checkout.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <h1>Сервис заказа ланчей</h1>
    </div>

    <div class="container">
        <nav class="main-nav">
            <a href="index.html" class="nav-link">Главная</a>
            <a href="lunch.html" class="nav-link">Собрать ланч</a>
            <a href="checkout.html" class="nav-link active">Оформить заказ</a>
        </nav>

        <main class="main-content">
            <section class="checkout-section">
                <h2>Состав заказа</h2>
                
                <div id="nothing-selected-checkout" class="nothing-selected-message" style="display: none;">
                    Ничего не выбрано. Чтобы добавить блюда в заказ, перейдите на страницу 
                    <a href="lunch.html">Собрать ланч</a>
                </div>

                <div id="selected-dishes-container" class="dishes-container"></div>
            </section>

            <section class="form-section">
                <h2>Оформление заказа</h2>

                <div class="form-content">
                    <div class="selected-items-left">
                        <h3>Ваш заказ</h3>
                        
                        <div class="soup-category-checkout order-category-checkout" style="display: none;">
                            <h4>Суп:</h4>
                            <p id="form-selected-soup">Не выбран</p>
                            <p class="price" id="form-selected-soup-price">0 ₽</p>
                        </div>

                        <div class="main-category-checkout order-category-checkout" style="display: none;">
                            <h4>Главное блюдо:</h4>
                            <p id="form-selected-main">Не выбрано</p>
                            <p class="price" id="form-selected-main-price">0 ₽</p>
                        </div>

                        <div class="salad-category-checkout order-category-checkout" style="display: none;">
                            <h4>Салат или стартер:</h4>
                            <p id="form-selected-salad">Не выбран</p>
                            <p class="price" id="form-selected-salad-price">0 ₽</p>
                        </div>

                        <div class="drink-category-checkout order-category-checkout" style="display: none;">
                            <h4>Напиток:</h4>
                            <p id="form-selected-drink">Не выбран</p>
                            <p class="price" id="form-selected-drink-price">0 ₽</p>
                        </div>

                        <div class="dessert-category-checkout order-category-checkout" style="display: none;">
                            <h4>Десерт:</h4>
                            <p id="form-selected-dessert">Не выбран</p>
                            <p class="price" id="form-selected-dessert-price">0 ₽</p>
                        </div>

                        <div id="form-total-cost-container" class="total-cost-section-checkout" style="display: none;">
                            <h4>Общая стоимость:</h4>
                            <p id="form-total-cost" class="total-price">0 ₽</p>
                        </div>
                    </div>

                    <form id="checkoutForm" class="order-form">
                        <div class="form-group">
                            <label for="full_name">Имя и фамилия: *</label>
                            <input type="text" id="full_name" name="full_name" required>
                        </div>

                        <div class="form-group">
                            <label for="email">Email: *</label>
                            <input type="email" id="email" name="email" required>
                        </div>

                        <div class="form-group checkbox-group">
                            <input type="checkbox" id="subscribe" name="subscribe" value="1">
                            <label for="subscribe">Хочу получать информацию о новинках и акциях</label>
                        </div>

                        <div class="form-group">
                            <label for="phone">Телефон: *</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>

                        <div class="form-group">
                            <label for="delivery_address">Адрес доставки: *</label>
                            <textarea id="delivery_address" name="delivery_address" required></textarea>
                        </div>

                        <div class="form-group">
                            <label>Время доставки: *</label>
                            <div class="radio-group">
                                <div class="radio-option">
                                    <input type="radio" id="asap_delivery_checkout" name="delivery_type" value="now" checked>
                                    <label for="asap_delivery_checkout">Как можно скорее</label>
                                </div>
                                <div class="radio-option">
                                    <input type="radio" id="specific_time_radio_checkout" name="delivery_type" value="by_time">
                                    <label for="specific_time_radio_checkout">Ко времени</label>
                                </div>
                            </div>
                        </div>

                        <div id="time_input_group_checkout" class="form-group" style="display: none;">
                            <label for="delivery_time">Укажите время: *</label>
                            <input type="time" id="delivery_time" name="delivery_time">
                        </div>

                        <div class="form-group">
                            <label for="comment">Комментарий к заказу:</label>
                            <textarea id="comment" name="comment" placeholder="Комментарий к заказу:"></textarea>
                        </div>

                        <div class="form-actions">
                            <button type="button" id="back-to-lunch-btn" class="btn btn-secondary">Вернуться к выбору</button>
                            <button type="submit" class="btn btn-primary">Отправить заказ</button>
                        </div>
                    </form>
                </div>
            </section>
        </main>
    </div>

    <!-- Скрытые поля для хранения данных -->
    <input type="hidden" id="hidden-soup">
    <input type="hidden" id="hidden-main">
    <input type="hidden" id="hidden-salad">
    <input type="hidden" id="hidden-drink">
    <input type="hidden" id="hidden-dessert">
    <input type="hidden" id="hidden-total">

    <script src="dishes.js"></script>
    <script src="loadDishes.js"></script>
    <script src="storage.js"></script>
    <script src="checkout.js"></script>
    <script src="form.js"></script>
    <script src="notifications.js"></script>
</body>
</html>
